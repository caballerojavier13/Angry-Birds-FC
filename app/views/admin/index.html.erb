<!DOCTYPE html>
<html>
    <head>
        <title>Angry Birds Fan Club</title>
        <link rel="shortcut icon" href="/favicon1.ico" />
        <link rel="stylesheet" href="/css/stylesheetAll.css">
        <link rel="stylesheet" type="text/css" href="/css/stylesheetNoScript.css" />
        <link rel="stylesheet" type="text/css" href="/css/stylesheetLoad.css" />
        <link rel="stylesheet" type="text/css" href="/css/stylesheetadmin.css" />       
    </head>
    <body>
        <div id="loading">
            <div id="background"></div>
            <div id="midground"></div>
            <div id="foreground"></div>
            <div id="tapa"></div>
                <div class="bokeh">
                    <img id="bokeh1" src="/picture/space/ice.png" height="100px" >
                    <img id="bokeh2" src="/picture/space/bomb.png" height="100px">
                    <img id="bokeh3" src="/picture/space/green.png" height="100px">
                    <img id="bokeh4" src="/picture/space/laser.png" height="100px"> 
                <div id="circulo"></div>
            </div>
            <div id="bokehText">
            <p>Cargando...</p>
            </div>  
        </div>
        <div id="page">            
            <div id="body">
                <div id="header">
                    <p>Administrador</p>
                    <ul>
                        <li class="seleccionado">
                            Resumen 
                        </li>
                        <a href="/admin/usuarios">
                        <li>
                            Usuarios
                        </li>
                        </a>
                        <li>
                            Noticias
                        </li>
                        <li>
                            Imagenes
                        </li>
                        <li>
                            Videos
                        </li>
                    </ul>
                </div>
                <div id="main">
                    <div id="usuario" class="resumen">
                        <h1>Usuarios</h1>
                        <table style="width: 100%;" >
                            <tr style="width: 50%;">
                                <td >
                                    <table class="datos" style=" margin: 0 auto;">
                                        <tr>
                                            <td>Bloqueado</td>
                                            <td>Cantidad</td>
                                            <td>Procentaje</td>
                                        </tr>
                                        <tr>
                                            <td>Bloqueados:</td>
                                            <td><%=@usu_act_bloq%></td>
                                            <td><%=(( @usu_act_bloq.to_f / @all_personas.count.to_f )*100).to_i%>%</td>
                                        </tr>
                                        <tr>
                                            <td>No bloqueados:</td>
                                            <td><%=@usu_act_no_bloq%></td>
                                          <td><%=(( @usu_act_no_bloq.to_f / @all_personas.count.to_f )*100).to_i%>%</td>
                                        </tr>
                                        <tr>
                                            <td>Total:</td>
                                            <td><%=(@usu_act_bloq.to_i + @usu_act_no_bloq.to_i )%></td>
                                            <td>100%</td>
                                        </tr>
                                    </table>
                                </td>
                                <td style="width: 50%;">
                                    <div id="grafico_usuario_bloqueado" style=" margin: 0 auto;"></div>
                                </td>
                            </tr>
                          <tr style="width: 50%;">
                            <td >
                              <table class="datos" style=" margin: 0 auto;">
                                <tr>
                                  <td>Activo</td>
                                  <td>Cantidad</td>
                                  <td>Procentaje</td>
                                </tr>
                                <tr>
                                  <td>Activos:</td>
                                  <td><%=@usu_act%></td>
                                  <td><%=((@usu_act.to_f / @usu_act_t.to_f)* 100).to_i%>%</td>
                                </tr>
                                <tr>
                                  <td>No Activos:</td>
                                  <td><%=(@usu_act_t.to_i - @usu_act.to_i).to_s%></td>
                                  <td><%=(((@usu_act_t.to_f - @usu_act.to_f) / @usu_act_t.to_f)* 100).to_i%>%</td>
                                </tr>
                                <tr>
                                  <td>Total:</td>
                                  <td><%=@usu_act_t%></td>
                                  <td>100%</td>
                                </tr>
                              </table>
                            </td>
                            <td style="width: 50%;">
                              <div id="grafico_usuario_activo" style=" margin: 0 auto;"></div>
                            </td>
                          </tr>
                            <tr style="width: 50%;">
                                <td >
                                    <table class="datos" style=" margin: 0 auto;">
                                        <tr>
                                            <td>Genero</td>
                                            <td>Cantidad</td>
                                            <td>Procentaje</td>
                                        </tr>
                                        <tr>
                                            <td>Mujeres:</td>
                                            <td><%=@usu_gen_f%></td>
                                            <td><%=((@usu_gen_f.to_f / @usu_gen_t.to_f)* 100).to_i%>%</td>
                                        </tr>
                                        <tr>
                                            <td>Hombres:</td>
                                            <td><%=@usu_gen_m%></td>
                                            <td><%=((@usu_gen_m.to_f / @usu_gen_t.to_f)* 100).to_i%>%</td>
                                        </tr>
                                        <tr>
                                            <td>Total:</td>
                                            <td><%=@usu_gen_t%></td>
                                            <td>100%</td>
                                        </tr>
                                    </table>
                                </td>
                                <td style="width: 50%;">
                                    <div id="grafico_usuario_genero" style=" margin: 0 auto;"></div>
                                </td>
                            </tr>

                        </table>
                        <h2 class="subtitulo">Clasificaci√≥n de Usuarios por Edad</h2>
                        <div id="graph_usr_edad" style="height: 400px; position: relative; margin: 0 auto; margin-top: 50px; width: 800px;"></div>
                        <h2 class="subtitulo">Progreso de los Usuarios Activos en el tiempo</h2>
                        <div id="grafico_usuario_progreso" style="height: 400px; position: relative; margin: 0 auto; margin-top: 50px; width: 800px;"></div>

                    </div>
                    <div id="noticia" class="resumen">
                      <h1>Noticia</h1>
                      <div id="graph_not" style="height: 400px; position: relative; margin: 0 auto; margin-top: 50px; width: 800px;"></div>
                    </div>
                    <div id="imagen" class="resumen">
                      <h1>Imagenes</h1>
                      <div id="graph_img" style="height: 400px; position: relative; margin: 0 auto; margin-top: 50px; width: 800px;"></div>
                    </div>
                    <div id="video" class="resumen">
                      <h1>Videos</h1>
                      <div id="graph_vid" style="height: 400px; position: relative; margin: 0 auto; margin-top: 50px; width: 800px;"></div>
                    </div>
                </div>
            </div>
            <div id="footer">

              <a href="/logout" style="position: absolute; right: 20px; bottom: 0px;">
                <img src="/picture/exit1.png" style=" margin-top: 30px; margin-left: 20px;">
              </a>
              <a href="/" style="position: absolute; left:20px; bottom: 10px;">
                <img src="/picture/icon/back.png" height="80px" />
              </a>
            </div>
        </div>  
        
    </body>
    <script src= '/js/scriptLoad.js' > </script>
    <script language="javascript">
            window.onload = inicio;
        </script>
    <noscript><div id="noscript"><br/>Javascript deshabilitado: para poder apreciar la pagina web por favor activa javascript en tu navegador</div></noscript>
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
    <script src="/js/morris.min.js" type="text/javascript"></script>
    <script src="/js/raphael-min.js" type="text/javascript"></script>
    <script src="/js/highcharts.js" type="text/javascript"></script>
    <script src="/js/jquery.backgroundPosition.js" type="text/javascript"></script>
    <script type="text/javascript">
        $(function(){
        
          $('#midground').css({backgroundPosition: '0px 0px'});
          $('#foreground').css({backgroundPosition: '0px 0px'});
          $('#background').css({backgroundPosition: '0px 0px'});
        
            $('#midground').animate({
                backgroundPosition:"(-10000px -2000px)"
            }, 240000, 'linear');
            
            $('#foreground').animate({
                backgroundPosition:"(-10000px -2000px)"
            }, 120000, 'linear');
            
            $('#background').animate({
                backgroundPosition:"(-10000px -2000px)"
            }, 480000, 'linear');
            
        });
    </script>
    <script>
      $(function() {
             if ($.browser.opera || $.browser.msie ) {
               alert( "Por favor no uses este navegador. Usa firefox o Chrome. Si no los tienes instalalos." );
         }
       });
    </script>
    <script>
        Morris.Donut({
          element: 'grafico_usuario_genero',
          colors:["#32A98D"],
          data: [
            {label: "Mujeres", value: <%=@usu_gen_f%>},
            {label: "Hombres", value: <%=@usu_gen_m%>},
          ]
        });
    </script>
    <script>
        Morris.Donut({
          element: 'grafico_usuario_bloqueado',
          colors:["#32A98D"],
          data: [
            {label: "Bloqueados", value: <%=@usu_act_bloq%>},
            {label: "No bloqueados", value: <%=@usu_act_no_bloq%>},
          ]
        });
    </script>
    <script>
        Morris.Donut({
            element: 'grafico_usuario_activo',
            colors:["#32A98D"],
            data: [
                {label: "Activos", value: <%=@usu_act%>},
                {label: "No activos", value: <%=(@usu_act_t.to_i - @usu_act.to_i).to_s%>},
            ]
        });
    </script>
    <script>
        $(function () {
            $('#graph_usr_edad').highcharts({
                chart: {
                    type: "column",
                    zoomType: 'x',
                    spacingRight: 20
                },
                tooltip: {
                    headerFormat: '<span style="font-size:10px">Cantidad de usuarios registrados: <span style="color:{series.color};padding:0"><strong>{point.y}</strong></span></span>',
                    pointFormat: '',
                    shared: true,
                    useHTML: true
                },
                title: {
                    text: ''
                },
                legend: {
                    enabled: false
                },
                yAxis: {
                    gridLineWidth: 1,
                    gridLineColor: "yellow",
                    title: {
                        text: ''
                    }
                },
                xAxis: {

                    lineColor: "#6dd4bc",
                    categories: ['0-9', '10-19', '20-29', '30-39', '40-49', '50-59', '60-69', '70-79', '80-89', '90-99']
                },
                colors:
                        ["#6dd4bc"],
                series: [{
                    data: <%= @cuenta_edades %>
                }]
            });
        });
    </script>
    <script>
        $(function () {
            $('#grafico_usuario_progreso').highcharts({
                chart: {
                    type: "line",
                    zoomType: 'x',
                    spacingRight: 20
                },
                tooltip: {
                    headerFormat: '<span style="font-size:10px">Cantidad de usuarios registrados: <span style="color:{series.color};padding:0"><strong>{point.y}</strong></span></span>',
                    pointFormat: '',
                    shared: true,
                    useHTML: true
                },
                title: {
                    text: ''
                },
                legend: {
                    enabled: false
                },
                yAxis: {
                    gridLineWidth: 1,
                    gridLineColor: "yellow",
                    title: {
                        text: ''
                    }
                },
                xAxis: {

                    lineColor: "#6dd4bc",
                    categories: <%=(0..12).to_a.reverse! %>
                },
                colors:
                        ["#6dd4bc"],
                series: [{
                    data: <%= @Progreso_usu %>
                }]
            });
        });
    </script>
    <script>
        $(function () {
            $('#graph_not').highcharts({
                chart: {
                    type: "line",
                    zoomType: 'x',
                    spacingRight: 20
                },
                tooltip: {
                    headerFormat: '<span style="font-size:10px">Cantidad de usuarios registrados: <span style="color:{series.color};padding:0"><strong>{point.y}</strong></span></span>',
                    pointFormat: '',
                    shared: true,
                    useHTML: true
                },
                title: {
                    text: ''
                },
                legend: {
                    enabled: false
                },
                yAxis: {
                    gridLineWidth: 1,
                    gridLineColor: "yellow",
                    title: {
                        text: ''
                    }
                },
                xAxis: {

                    lineColor: "#6dd4bc",
                    categories: ['0-9', '10-19', '20-29', '30-39', '40-49', '50-59', '60-69', '70-79', '80-89', '90-99']
                },
                colors:
                        ["#6dd4bc"],
                series: [{
                    data: [29.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1]
                }]
            });
        });
    </script>
    <script>
        $(function () {
            $('#graph_img').highcharts({
                chart: {
                    type: "line",
                    zoomType: 'x',
                    spacingRight: 20
                },
                tooltip: {
                    headerFormat: '<span style="font-size:10px">Cantidad de usuarios registrados: <span style="color:{series.color};padding:0"><strong>{point.y}</strong></span></span>',
                    pointFormat: '',
                    shared: true,
                    useHTML: true
                },
                title: {
                    text: ''
                },
                legend: {
                    enabled: false
                },
                yAxis: {
                    gridLineWidth: 1,
                    gridLineColor: "yellow",
                    title: {
                        text: ''
                    }
                },
                xAxis: {

                    lineColor: "#6dd4bc",
                    categories: ['0-9', '10-19', '20-29', '30-39', '40-49', '50-59', '60-69', '70-79', '80-89', '90-99']
                },
                colors:
                        ["#6dd4bc"],
                series: [{
                    data: [29.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1]
                }]
            });
        });
    </script>
    <script>
        $(function () {
            $('#graph_vid').highcharts({
                chart: {
                    type: "line",
                    zoomType: 'x',
                    spacingRight: 20
                },
                tooltip: {
                    headerFormat: '<span style="font-size:10px">Cantidad de usuarios registrados: <span style="color:{series.color};padding:0"><strong>{point.y}</strong></span></span>',
                    pointFormat: '',
                    shared: true,
                    useHTML: true
                },
                title: {
                    text: ''
                },
                legend: {
                    enabled: false
                },
                yAxis: {
                    gridLineWidth: 1,
                    gridLineColor: "yellow",
                    title: {
                        text: ''
                    }
                },
                xAxis: {

                    lineColor: "#6dd4bc",
                    categories: ['0-9', '10-19', '20-29', '30-39', '40-49', '50-59', '60-69', '70-79', '80-89', '90-99']
                },
                colors:
                        ["#6dd4bc"],
                series: [{
                    data: [29.9, 71.5, 106.4, 129.2, 144.0, 176.0, 135.6, 148.5, 216.4, 194.1]
                }]
            });
        });
    </script>
</html>
